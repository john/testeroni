= form_for(@test) do |f|
  -if @test.errors.any?
    #error_explanation
      %h2 #{pluralize(@test.errors.count, "error")} prohibited this test from being saved:
      %ul
        -@test.errors.full_messages.each do |msg|
          %li= msg

  .actions
    %p
      =f.label :name, 'Title'
      =f.text_field :name

    %p
      = f.label :description, 'Description'
      = f.text_area :description, :style => 'height:60px;'

    %p
      = f.label :tags, 'Tags'
      = f.text_field :tag_list

    %h6{:style => 'padding:15px 0 0 0;'} Media (all optional):
    -if @test.id.blank?
      %p
        = f.label :video_url, 'Video (add a YouTube URL)'
        = f.text_field :video_url

    -unless @test.id.blank?
      %p Videos associated with this test:
      -if @test.videos.blank?
        %p{:style => "font-style:italic;"} None right now. Add some.
      -else
        %ul
          -@test.videos.each do |video|
            %li= "video: #{video.class}; #{video.name}"

  - if @test.id.blank?
    %input{:type =>'submit', :value => 'Create test'}
  - else
    = f.submit
